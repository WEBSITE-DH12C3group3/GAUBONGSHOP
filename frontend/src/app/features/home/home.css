/* ========== Utilities ========== */
.line-clamp-2{
  display:-webkit-box;
  -webkit-line-clamp:2;
  -webkit-box-orient:vertical;
  overflow:hidden;
}

/* ========== Category cards (cũ) ========== */
.category-card{
  transition:transform .35s ease, box-shadow .35s ease, background .35s ease;
  box-shadow:0 6px 20px rgba(0,0,0,.06);
  border:1px solid rgba(0,0,0,.04);
}
.category-card:hover{
  transform:translateY(-6px);
  box-shadow:0 12px 28px rgba(0,0,0,.10);
}

/* ========== Product cards ========== */
.product-card{
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
  border:1px solid #f3f4f6; /* thêm viền mặc định để hover có hiệu ứng */
}
.product-card:hover{
  transform:translateY(-4px);
  box-shadow:0 12px 28px rgba(0,0,0,.10);
  border-color:#f3e0ea;
}

/* Heart hover color */
.fa-heart{ transition:color .25s ease; }
button:hover .fa-heart{ color:#ec4899 !important; }

/* ========== Hero carousel controls ========== */
.hero-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  z-index:10; width:40px; height:40px;
  display:grid; place-items:center;
  border-radius:9999px;
  background:rgba(255,255,255,.85);
  color:#374151;
  box-shadow:0 6px 16px rgba(0,0,0,.12);
  transition:background .2s ease, transform .2s ease;
  backdrop-filter:blur(4px);
}
.hero-nav:hover{ background:#fff; transform:translateY(-50%) scale(1.02); }
.hero-nav--left{ left:.75rem; }
.hero-nav--right{ right:.75rem; }
@media (min-width:768px){
  .hero-nav--left{ left:1rem; }
  .hero-nav--right{ right:1rem; }
}

/* Dots */
.hero-dot{
  width:10px; height:10px; border-radius:9999px;
  background:rgba(255,255,255,.6);
  box-shadow:0 0 0 1px rgba(255,255,255,.4) inset;
  transition:width .25s ease, background .2s ease;
}
.hero-dot--active{ width:24px; background:#fff; }

/* Reduce motion */
@media (prefers-reduced-motion:reduce){
  .transition, .transition-transform{ transition:none !important; }
}

/* ========== Section helpers (gợi ý tone) ========== */
.category-bg-rose{ background:linear-gradient(180deg,#fff5f8 0%,#ffffff 100%); }
.category-bg-sky { background:linear-gradient(180deg,#f1f7ff 0%,#ffffff 100%); }
.category-bg-mint{ background:linear-gradient(180deg,#f1fffb 0%,#ffffff 100%); }
.category-text-dark{ color:#111827; }
.category-text-rose{ color:#db2777; }
.category-text-sky { color:#0284c7; }

/* ========== Optional: subtle skeleton ========== */
@keyframes pulseShimmer{
  0%{ background-position:-200% 0; }
  100%{ background-position:200% 0; }
}
.skeleton{
  background:linear-gradient(90deg,#f5f6f7 25%,#eef1f3 37%,#f5f6f7 63%);
  background-size:400% 100%;
  animation:pulseShimmer 1.2s ease-in-out infinite;
}

/* ========== Featured category — phiên bản nâng cấp (catx*) ========== */
.catx{
  position:relative;
  background:linear-gradient(180deg,rgba(255,255,255,.92),rgba(255,255,255,.86));
  border:1px solid rgba(0,0,0,.04);
  box-shadow:0 10px 30px rgba(17,24,39,.06);
  transition:transform .4s cubic-bezier(.2,.8,.2,1), box-shadow .4s ease, background .35s ease;
  backdrop-filter:saturate(120%) blur(2px);
  will-change:transform, box-shadow;
  border-radius:1rem;
}
.catx:hover, .catx:focus-visible{
  transform:translateY(-7px);
  box-shadow:0 22px 46px -10px rgba(17,24,39,.14);
}

/* Viền gradient */
.catx__border{
  position:absolute; inset:0; border-radius:inherit; padding:1px;
  background:linear-gradient(120deg,rgba(236,72,153,.24),rgba(244,114,182,.18),rgba(59,130,246,.18));
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  pointer-events:none;
}

/* Shine */
.catx__shine{
  position:absolute; inset:0; border-radius:inherit;
  background:linear-gradient(110deg,transparent 10%,rgba(255,255,255,.35) 45%,transparent 60%);
  transform:translateX(-120%);
  transition:transform .65s ease;
}
.catx:hover .catx__shine, .catx:focus-visible .catx__shine{ transform:translateX(120%); }

/* Glow decor */
.catx__glow{ position:absolute; border-radius:9999px; filter:blur(32px); opacity:.6 }
.catx__glow--tr{ right:-2rem; top:-2rem; width:4.5rem; height:4.5rem; background:rgba(244,114,182,.35) }
.catx__glow--bl{ left:-2rem; bottom:-2rem; width:5rem; height:5rem; background:rgba(59,130,246,.25) }

/* Bong bóng trong card */
.catx__bubble{
  position:absolute; border-radius:9999px;
  background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.9),rgba(255,255,255,.3));
  opacity:.7; filter:saturate(120%);
}
.catx__bubble--1{ width:16px; height:16px; right:14px; top:16px; animation:bubbleCard 6s ease-in-out infinite; }
.catx__bubble--2{ width:12px; height:12px; left:12px; bottom:14px; animation:bubbleCard 7.5s ease-in-out infinite .4s; }
@keyframes bubbleCard{
  0%{ transform:translateY(0) scale(1) }
  50%{ transform:translateY(-6px) scale(1.05) }
  100%{ transform:translateY(0) scale(1) }
}

/* Icon holder */
.catx__icon{
  width:4rem; height:4rem; margin:0 auto .75rem;
  display:grid; place-items:center;
  border-radius:1rem;
  background:rgba(255,255,255,.6);
  box-shadow:0 8px 20px rgba(0,0,0,.06);
  transition:transform .35s ease, box-shadow .35s ease;
}
.catx:hover .catx__icon, .catx:focus-visible .catx__icon{
  transform:translateY(-4px);
  box-shadow:0 16px 34px rgba(0,0,0,.12);
}

/* CHỈNH QUAN TRỌNG: để icon hiện màu đúng (không dùng color:transparent) */
.catx__iconSvg{
  display:inline-block;
  font-size:1.75rem; /* ~ text-3xl */
  line-height:1;
  color:inherit;      /* ← dùng màu từ class ngClass (vd: text-rose-600) */
  filter:drop-shadow(0 4px 10px rgba(236,72,153,.15));
  transition:transform .35s ease, filter .35s ease;
}
.catx:hover .catx__iconSvg, .catx:focus-visible .catx__iconSvg{
  transform:translateY(-2px) scale(1.04);
  filter:drop-shadow(0 8px 18px rgba(236,72,153,.25));
}

/* Typography */
.catx__title{ font-weight:700; color:#111827; margin-bottom:.25rem; }
.catx__desc{ color:#6b7280; font-size:.875rem; margin-bottom:.75rem }

/* CTA */
.catx__cta{
  color:#db2777; background:#fff;
  border:1px solid rgba(253,164,175,.5);
  box-shadow:0 6px 16px rgba(244,114,182,.12);
  transition:transform .2s ease, box-shadow .25s ease, background .25s ease, color .25s ease, border-color .25s ease;
}
.catx:hover .catx__cta, .catx:focus-visible .catx__cta{
  color:#fff; background:linear-gradient(90deg,#ec4899,#f43f5e);
  border-color:transparent; transform:translateY(-1px);
  box-shadow:0 10px 22px rgba(244,114,182,.22);
}
.catx__cta:active{ transform:translateY(0); }

/* ========== Hiệu ứng toàn vùng: Cánh hoa rơi + bong bóng ========== */
.fx{ position:absolute; inset:0; overflow:hidden; pointer-events:none; }

/* --- BẢN CHUẨN: dùng CSS variables cho petals --- */
.fx--petals span{
  position:absolute; top:-10%;
  left:var(--x,50%);
  width:var(--size,14px); height:var(--size,14px);
  border-radius:9999px;
  background:radial-gradient(circle at 40% 40%, #ffa3c3 0%, #f472b6 60%, transparent 62%);
  box-shadow:0 6px 12px rgba(244,114,182,.25);
  animation:petalFall var(--dur,11s) linear infinite;
  animation-delay:var(--delay,0s);
  transform:rotate(var(--rot,0deg));
  opacity:.85; will-change:transform, opacity;
}
@keyframes petalFall{
  0%   { transform:translateY(-20%) rotate(var(--rot,0)) scale(1); opacity:0 }
  10%  { opacity:.9 }
  50%  { transform:translateY(55vh) rotate(calc(var(--rot,0) + 180deg)) scale(.95) }
  100% { transform:translateY(110vh) rotate(calc(var(--rot,0) + 360deg)) scale(1); opacity:.15 }
}

/* Bong bóng nền */
.fx--bubbles i{
  position:absolute; bottom:-40px; width:12px; height:12px; border-radius:9999px;
  background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.9), rgba(255,255,255,.35));
  box-shadow:inset 0 0 10px rgba(255,255,255,.7), 0 6px 18px rgba(0,0,0,.06);
  animation:bubbleUp linear infinite;
  will-change:transform, opacity;
}
.fx--bubbles i:nth-child(1){ left:12%; animation-duration:8s;  animation-delay:0s; }
.fx--bubbles i:nth-child(2){ left:28%; animation-duration:10s; animation-delay:.8s; }
.fx--bubbles i:nth-child(3){ left:52%; animation-duration:9s;  animation-delay:.4s; }
.fx--bubbles i:nth-child(4){ left:71%; animation-duration:11s; animation-delay:1.1s; }
.fx--bubbles i:nth-child(5){ left:88%; animation-duration:9.5s;animation-delay:.2s; }
@keyframes bubbleUp{
  0%   { transform:translateY(20px) scale(.8); opacity:0 }
  10%  { opacity:.85 }
  50%  { transform:translateY(-30vh) scale(1); opacity:.9 }
  100% { transform:translateY(-60vh) scale(1.05); opacity:0 }
}

/* ====== Prefers-reduced-motion (đặt cuối) ====== */
@media (prefers-reduced-motion:reduce){
  .fx--petals span, .fx--bubbles i, .catx__bubble{ animation:none !important; }
  .catx, .catx__icon, .catx__iconSvg, .catx__shine{ transition:none !important; }
}
